{% extends 'base.html' %}
{% load thumbnail %}

{% block content %}
    <div class="blog-post">
        <h2 class="blog-post-title">{{ object.title }}</h2>
        {% if object.category %}
            <p class="blog-post-meta">Category: <a href="{{ object.category.get_absolute_url }}">
                {{ object.category.title }}</a></p>
        {% endif %}
        {{ object.text|safe }}

        {% if object.gallery.count %}
        <div id="carousel-page-gallery" class="carousel slide" data-ride="carousel">
            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                {% for image in object.gallery.all %}
                <div class="item{% if forloop.first %} active{% endif %}">
                    {% thumbnail image.file "697" crop="center" as im %}
                        <img src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}" alt="{{ image.title }}">
                    {% endthumbnail %}
                    <div class="carousel-caption">{{ image.title }}</div>
                </div>
                {% endfor %}
            </div>
            
            <!-- Controls -->
            <a class="left carousel-control" href="#carousel-page-gallery" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-page-gallery" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
            
        {% endif %}
    </div>
    <!-- /.post -->
{% endblock %}